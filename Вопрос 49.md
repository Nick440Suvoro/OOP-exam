# Вопрос 49
**Потоковый ввод/вывод в C++. Перегрузка операций для этого и манипуляторы ввода/вывода.**

В ```c++``` нет встроенных средств ввода-вывода, поэтому используется библиотека `iostream` ввода-вывода.


В данной библиотеке определяются три стандартных потока:
* ```cin``` - стандартный входной поток (stdin в С)
* ```cout``` - стандартный выходной поток (stdout в С)
* ```cerr``` - стандартный поток вывода сообщений об ошибках (stderr в С)

Для выполнения операций ввода-вывода переопределены две операции поразрядного сдвига:
* ```>>```  - получить из входного потока (служит для ввода информации)
* ```<<```  - поместить в выходной поток (служит для вывода информации)

Возможно многократное назначение потоков: 
```c++
cin >> переменная_1 >> переменная_2 >> ... >> переменная_n;
```

В некоторых классах требуется переопределение операторов потокового ввода/вывода.м

Расмотрим следующий пример:
```c++
class Point
{
private:
    double m_x{}; 
    double m_y{};
    double m_z{};
public:
    Point(double x=0.0, double y=0.0, double z=0.0) : m_x{x}, m_y{y}, m_z{z} {}

    friend std::ostream& operator<< (std::ostream &out, const Point &point);
    friend std::istream& operator>> (std::istream &in, Point &point);
};
```
Для вывода полей данного класса нужна перегрузка ```operator<<```.
Для ввода полей данного класса нужна перегрузка ```operator>>```.
```c++
std::ostream& operator<< (std::ostream &out, const Point &point)
{
     out << "Point(" << point.m_x << ", " << point.m_y << ", " << point.m_z << ')';
     return out;
}
std::istream& operator>> (std::istream &in, Point &point)
{
    in >> point.m_x >> point.m_y >> point.m_z;
    return in;
}
```
После переопределения данных операторов можно использовать их для стандартного ввода/вывода значений полей заданного класса.
```c++
int main()
{
    Point point{};
    std::cin >> point; // Ввод
    std::cout << point; // Вывод
    return 0;
}
```
**Манипуляторы потока** - Это такая функция, которая позволяет форматировать данные для ввода/вывода.

* Функцию - манипулятор потока можно включать в операции помещения в поток и извлечения из потока (`<<`, `>>`).

Пример манипулятора перевода значений из 10-ой в 16-ую систему счистления:

```c++
ostream& my_manip(ostream& stream)
{
	stream.unsetf(ios::dec);
	stream.setf(ios::hex);
	return stream;
}
```

Существует множество манипуляторов потока, однако наиболее используемые из них: 
* ```endl``` - манипулятор перехода на новую строку при выводе;
* ```boolalpha``` - манипулятор вывода логических величин в текстовом виде;
* ```noboolalpha``` - манипулятор вывода  логических величин в числовом виде;
* ```oct```,```dec```,```hex``` - ввод/вывод величин в соответствующих системах счистления;
* ```showbase``` - вывод индикатора основания системы счистления;
* ```scientific``` - вывод чисел с плавающей точкой в экспоненциальной форме;
* ```fixed``` - вывод чисел с плавающей точкой в фиксированном формате.